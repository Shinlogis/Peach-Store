<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProductColor">

		<insert id ="insert" parameterType="ProductColor">
			insert into product_color(product_id, color_id) values(#{product.productId}, #{color.color_id})
		</insert>
		
		<resultMap type="ProductColor" id="colorMap">
			<id column="product_color_id" property="product_color_id"/>
			<association column="color_id" property="color" javaType="Color" select="Color.select"/>
		</resultMap>
		
		<select id="selectByProductId" parameterType="int" resultMap="colorMap">
			select product_color_id, color_id, product_id from product_color where product_id = #{productId}
		</select>
		
		<delete id="deleteByProductId" parameterType="int">
		  delete from product_color where product_id = #{productId}
		</delete>

</mapper>