<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="peachstore.repository.CouponDAO">

	<resultMap id="CouponResultMap" type="Coupon">
		<result column="coupon_id" property="couponId"/>
		<result column="coupon_name" property="couponName"/>
		<result column="discount_amount" property="discountAmount"/>
		<result column="valid_days" property="validDays"/>
		<result column="use_condition" property="useCondition"/>
		<result column="is_active" property="isActive"/>
		
		<!-- 쿠폰은 여러 등급별 쿠폰을 가짐 -->
		<collection property="gradeCoupons" ofType="peachstore.domain.GradeCoupon" 
			select="peachstore.repository.gradeCoupon.GradeCouponDAO.selectByCouponId"
			column="coupon_id"/>
	</resultMap>
	

</mapper>
