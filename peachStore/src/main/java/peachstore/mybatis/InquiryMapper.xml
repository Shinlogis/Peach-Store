<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Inquiry">

	<insert id="insert" parameterType="Inquiry">
		insert into inquiry (title,inquiry_text, is_active, user_id) values(#{title},#{inquiry_text},#{is_active}, #{user.user_id})
		
		<!-- insert시키자 마자 현재 세션에서 일으킨 pk의 최대값 (insert 후 inquiry_id로 다른 테이블에 insert할 때 필요) -->
		<selectKey keyColumn="inquiry_id" keyProperty="inquiry_id" resultType="int" order="AFTER">
			select last_insert_id() as inquiry_id			
		</selectKey>
		
	</insert>
	

</mapper>